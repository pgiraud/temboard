!function(i){function e(e){for(var t,o,r=e[0],s=e[1],n=e[2],l=0,a=[];l<r.length;l++)o=r[l],d[o]&&a.push(d[o][0]),d[o]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t]);for(u&&u(e);a.length;)a.shift()();return p.push.apply(p,n||[]),c()}function c(){for(var e,t=0;t<p.length;t++){for(var o=p[t],r=!0,s=1;s<o.length;s++){var n=o[s];0!==d[n]&&(r=!1)}r&&(p.splice(t--,1),e=l(l.s=o[0]))}return e}var o={},d={3:0},p=[];function l(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=i,l.c=o,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(o,r,function(e){return t[e]}.bind(null,r));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/js/build";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var s=0;s<t.length;s++)e(t[s]);var u=r;p.push([10,6]),c()}({10:function(e,t,o){"use strict";o.r(t);var r=o(0),s=o.n(r);o(1);function n(n,l,e){$.ajax({url:"/json/settings/group/"+l+"/"+e,type:"get",beforeSend:function(e){$("#"+n+"Label").html("Processing, please wait..."),$("#"+n+"Info").html(""),$("#"+n+"Body").html('<div class="row"><div class="col-md-4 col-md-offset-4"><div class="progress"><div class="progress-bar progress-bar-striped" style="width: 100%;">Please wait ...</div></div></div></div>'),$("#"+n+"Footer").html('<button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>')},async:!0,contentType:"application/json",dataType:"json",success:function(t){"role"==t.kind?$("#"+n+"Label").html("Update user group properties"):$("#"+n+"Label").html("Update instance group properties");var e="";if(e+='<form id="formUpdateGroup">',e+='  <input type="hidden" id="inputGroupname" value="'+t.name+'" />',e+='  <div class="row">',e+='    <div class="form-group col-sm-6">',e+='      <label for="inputNewGroupname" class="control-label">Group name</label>',e+='      <input type="text" class="form-control" id="inputNewGroupname" placeholder="New group name" value="'+t.name+'" />',e+="    </div>","instance"==l){e+='    <div class="form-group col-sm-6">',e+='      <label for="selectGroups" class="control-label">User groups</label><br />',e+='      <select id="selectGroups" multiple="multiple">';var o={},r="";for(var s in t.user_groups)r="",-1<t.in_groups.indexOf(s.name)&&(r="selected"),e+='      <option value="'+s.name+'" '+r+">"+s.name+"</option>",o[s.name]=s.description;e+="      </select>",e+='      <p class="form-text text-muted">Please select the user groups allowed to view instances from this instance group.</p>',e+="    </div>"}e+="  </div>",e+='  <div class="row">',e+='    <div class="form-group col-sm-12">',e+='      <label for="inputDescription" class="control-label">Description</label>',e+='      <textarea class="form-control" rows="3" placeholder="Description" id="inputDescription">'+t.description+"</textarea>",e+="    </div>",e+="  </div>",e+="</form>";$("#"+n+"Body").html(e),$("#"+n+"Footer").html('<button type="submit" id="submitFormUpdateGroup" class="btn btn-success">Save</button> <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>'),"instance"==l&&($("#selectGroups").multiselect(),$(".multiselect-container li").not(".filter, .group").tooltip({placement:"right",container:"body",title:function(){var e=$(this).find("input").val();return o[e]}})),$("#submitFormUpdateGroup").click(function(){$("#formUpdateGroup").submit()}),$("#formUpdateGroup").submit(function(e){e.preventDefault(),function(o,t){var e=$("#inputGroupname").val();if("instance"==t)var r=JSON.stringify({new_group_name:$("#inputNewGroupname").val(),description:$("#inputDescription").val(),user_groups:$("#selectGroups").val()});else r=JSON.stringify({new_group_name:$("#inputNewGroupname").val(),description:$("#inputDescription").val()});$.ajax({url:"/json/settings/group/"+t+"/"+e,type:"post",beforeSend:function(e){$("#"+o+"Label").html("Processing, please wait..."),$("#"+o+"Info").html('<div class="row"><div class="col-md-4 col-md-offset-4"><div class="progress"><div class="progress-bar progress-bar-striped" style="width: 100%;">Please wait ...</div></div></div></div>')},data:r,async:!0,contentType:"application/json",dataType:"json",success:function(e){$("#"+o).modal("hide");var t=window.location.href;window.location.replace(t)},error:function(e){"role"==t?$("#"+o+"Label").html("Update user group properties"):$("#"+o+"Label").html("Update instance group properties"),$("#"+o+"Info").html('<div class="row"><div class="col-md-12"><div class="alert alert-danger" role="alert">ERROR: '+JSON.parse(e.responseText).error+"</div></div></div>")}})}(n,t.kind)})},error:function(e){"role"==l?$("#"+n+"Label").html("Update user group properties"):$("#"+n+"Label").html("Update instance group properties"),$("#"+n+"Body").html('<div class="row"><div class="col-md-12"><div class="alert alert-danger" role="alert">ERROR: '+JSON.parse(e.responseText).error+"</div></div>")}})}function l(o,r,e){$.ajax({url:"/json/settings/group/"+r+"/"+e,type:"get",beforeSend:function(e){$("#"+o+"Label").html("Processing, please wait..."),$("#"+o+"Info").html('<div class="row"><div class="col-md-4 col-md-offset-4"><div class="progress"><div class="progress-bar progress-bar-striped" style="width: 100%;">Please wait ...</div></div></div></div>'),$("#"+o+"Footer").html('<button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>')},async:!0,contentType:"application/json",dataType:"json",success:function(t){$("#"+o+"Info").hide(),"role"==r?$("#"+o+"Label").html("Delete user group properties"):$("#"+o+"Label").html("Delete instance group properties");$("#"+o+"Body").html(""),$("#"+o+"Footer").html('<button type="submit" id="buttonDeleteGroup" class="btn btn-danger">Yes, delete this group</button> <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>'),$("#buttonDeleteGroup").click(function(e){e.preventDefault(),function(o,t,e){$.ajax({url:"/json/settings/delete/group/"+t,type:"post",beforeSend:function(e){$("#"+o+"Label").html("Processing, please wait..."),$("#"+o+"Info").html('<div class="row"><div class="col-md-4 col-md-offset-4"><div class="progress"><div class="progress-bar progress-bar-striped" style="width: 100%;">Please wait ...</div></div></div></div>'),$("#"+o+"Body").html("")},async:!0,contentType:"application/json",dataType:"json",data:JSON.stringify({group_name:e}),success:function(e){$("#"+o).modal("hide");var t=window.location.href;window.location.replace(t)},error:function(e){"role"==t?$("#"+o+"Label").html("Delete user group confirmation"):$("#"+o+"Label").html("Delete instance group confirmation"),$("#"+o+"Info").html('<div class="row"><div class="col-md-12"><div class="alert alert-danger" role="alert">ERROR: '+JSON.parse(e.responseText).error+"</div></div></div>"),$("#"+o+"Body").html("")}})}(o,t.kind,t.name)})},error:function(e){"role"==r?$("#"+o+"label").html("Delete user group confirmation"):$("#"+o+"label").html("Delete instance group confirmation"),$("#"+o+"Info").html('<div class="row"><div class="col-md-12"><div class="alert alert-danger" role="alert">ERROR: '+JSON.parse(e.responseText).error+"</div></div></div>"),$("#"+o+"Body").html(""),$("#"+o+"Footer").html('<button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>')}})}function a(o,t){if("instance"==t)var e=JSON.stringify({new_group_name:$("#inputNewGroupname").val(),description:$("#inputDescription").val(),user_groups:$("#selectGroups").val()});else e=JSON.stringify({new_group_name:$("#inputNewGroupname").val(),description:$("#inputDescription").val()});$.ajax({url:"/json/settings/group/"+t,type:"post",beforeSend:function(e){$("#"+o+"Label").html("Processing, please wait..."),$("#"+o+"Info").html('<div class="row"><div class="col-md-4 col-md-offset-4"><div class="progress"><div class="progress-bar progress-bar-striped" style="width: 100%;">Please wait ...</div></div></div></div>')},data:e,async:!0,contentType:"application/json",dataType:"json",success:function(e){$("#"+o).modal("hide");var t=window.location.href;window.location.replace(t)},error:function(e){"role"==t?$("#"+o+"Label").html("Add a new user group"):$("#"+o+"Label").html("Add a new instance group"),$("#"+o+"Info").html('<div class="row"><div class="col-md-12"><div class="alert alert-danger" role="alert">ERROR: '+JSON.parse(e.responseText).error+"</div></div></div>")}})}s()(window,$),$(document).ready(function(){$("#tableGroups").DataTable({stateSave:!0})}),$("#buttonLoadAddGroupForm").click(function(){$("#GroupModal").modal("show"),$("[data-toggle=popover]").popover("hide"),function(s,n){if("role"==n){$("#"+s+"Label").html("Add a new user group"),$("#"+s+"Info").html("");'<form id="formAddGroup">','  <div class="row">','    <div class="form-group col-sm-12">','      <label for="inputNewGroupname" class="control-label">Group name</label>','      <input type="text" class="form-control" id="inputNewGroupname" placeholder="Group name" />',"    </div>","  </div>",'  <div class="row">','    <div class="form-group col-sm-12">','      <label for="inputDescription" class="control-label">Description</label>','      <textarea class="form-control" rows="3" placeholder="Description" id="inputDescription"></textarea>',"    </div>","  </div>","</form>";'<button type="submit" id="submitFormAddGroup" class="btn btn-success">Save</button>',' <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>',$("#"+s+"Body").html('<form id="formAddGroup">  <div class="row">    <div class="form-group col-sm-12">      <label for="inputNewGroupname" class="control-label">Group name</label>      <input type="text" class="form-control" id="inputNewGroupname" placeholder="Group name" />    </div>  </div>  <div class="row">    <div class="form-group col-sm-12">      <label for="inputDescription" class="control-label">Description</label>      <textarea class="form-control" rows="3" placeholder="Description" id="inputDescription"></textarea>    </div>  </div></form>'),$("#"+s+"Footer").html('<button type="submit" id="submitFormAddGroup" class="btn btn-success">Save</button> <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>'),$("#submitFormAddGroup").click(function(){$("#formAddGroup").submit()}),$("#formAddGroup").submit(function(e){e.preventDefault(),a(s,n)})}else $.ajax({url:"/json/settings/all/group/role",type:"get",beforeSend:function(e){$("#"+s+"Label").html("Processing, please wait..."),$("#"+s+"Info").html(""),$("#"+s+"Body").html('<div class="row"><div class="col-md-4 col-md-offset-4"><div class="progress"><div class="progress-bar progress-bar-striped" style="width: 100%;">Please wait ...</div></div></div></div>'),$("#"+s+"Footer").html('<button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>')},async:!0,contentType:"application/json",dataType:"json",success:function(e){$("#"+s+"Label").html("Add a new instance group"),$("#"+s+"Info").html("");var t="";t+='<form id="formAddGroup">',t+='  <div class="row">',t+='    <div class="form-group col-sm-6">',t+='      <label for="inputNewGroupname" class="control-label">Group name</label>',t+='      <input type="text" class="form-control" id="inputNewGroupname" placeholder="New group name" />',t+="    </div>",t+='    <div class="form-group col-sm-6">',t+='      <label for="selectGroups" class="control-label">User groups</label><br />',t+='      <select id="selectGroups" multiple="multiple">';var o={};for(var r in e.groups)t+='      <option value="'+r.name+'">'+r.name+"</option>",o[r.name]=r.description;t+="      </select>",t+='      <p class="form-text text-muted">Please select the user groups allowed to view instances from this instance group.</p>',t+="    </div>",t+="  </div>",t+='  <div class="row">',t+='    <div class="form-group col-sm-12">',t+='      <label for="inputDescription" class="control-label">Description</label>',t+='      <textarea class="form-control" rows="3" placeholder="Description" id="inputDescription"></textarea>',t+="    </div>",t+="  </div>",t+="</form>";$("#"+s+"Body").html(t),$("#"+s+"Footer").html('<button type="submit" id="submitFormAddGroup" class="btn btn-success">Save</button> <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>'),$("#selectGroups").multiselect(),$(".multiselect-container li").not(".filter, .group").tooltip({placement:"right",container:"body",title:function(){var e=$(this).find("input").val();return o[e]}}),$("#submitFormAddGroup").click(function(){$("#formAddGroup").submit()}),$("#formAddGroup").submit(function(e){e.preventDefault(),a(s,n)})},error:function(e){$("#"+s+"Label").html("Add a new instance group"),$("#"+s+"Info").html('<div class="row"><div class="col-md-12"><div class="alert alert-danger" role="alert">ERROR: '+escapeHtml(JSON.parse(e.responseText).error)+"</div></div></div>")}})}("GroupModal","{{group_kind}}")}),$(document).on("click","[data-action=edit]",function(){$("#GroupModal").modal("show"),$("[data-toggle=popover]").popover("hide"),n("GroupModal","{{group_kind}}",$(this).data("group_name"))}),$(document).on("click","[data-action=delete]",function(){$("#GroupModal").modal("show"),$("[data-toggle=popover]").popover("hide"),l("GroupModal","{{group_kind}}",$(this).data("group_name"))})}});